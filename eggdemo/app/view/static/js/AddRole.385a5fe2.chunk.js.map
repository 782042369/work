{"version":3,"sources":["tool/getUrlParam.js","views/role/AddRole.jsx"],"names":["getUrlParam","name","window","location","search","reg","RegExp","r","substr","match","strValue","unescape","TextArea","WrappedRegistrationForm","props","_this","Object","_Users_yanghongxuan_job_yang_h5_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","this","_Users_yanghongxuan_job_yang_h5_admin_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__","_Users_yanghongxuan_job_yang_h5_admin_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__","call","handleSubmit","e","preventDefault","form","validateFieldsAndScroll","err","values","arr","id","editrole","assign","then","res","console","log","antd_lib_message__WEBPACK_IMPORTED_MODULE_5___default","a","success","message","catch","error","addrole","status","state","confirmDirty","title","_this2","setState","rolelist","_res$data$","data","description","setFieldsValue","getFieldDecorator","react__WEBPACK_IMPORTED_MODULE_13___default","createElement","antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default","labelCol","xs","span","sm","wrapperCol","onSubmit","Item","label","rules","required","antd_lib_input__WEBPACK_IMPORTED_MODULE_12___default","placeholder","offset","antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default","type","htmlType","Component","role","create"],"mappings":"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","file":"static/js/AddRole.385a5fe2.chunk.js","sourcesContent":["/*\n * @Author: 杨宏旋\n * @LastEditors: 杨宏旋\n * @Description: url参数\n * @Date: 2019-05-06 17:53:48\n * @LastEditTime: 2019-05-07 09:54:57\n */\n/**\n * \n * @param {*} name 获取url参数名\n */\nconst getUrlParam = (name) => {\n  if (window.location.search) {\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n    var r = window.location.search.substr(1).match(reg);\n    var strValue = \"\";\n    if (r != null) {\n      strValue = unescape(r[2]);\n    }\n    return strValue;\n  } else {\n    return false;\n  }\n}\nexport default getUrlParam;\n","/*\n * @Author: 杨宏旋\n * @LastEditors: 杨宏旋\n * @Description: 角色\n * @Date: 2019-05-05 15:48:46\n * @LastEditTime: 2019-05-15 15:49:03\n */\nimport React, { Component } from 'react'\nimport { addrole, editrole, rolelist } from '../../api/role'\nimport getUrlParam from '../../tool/getUrlParam'\nimport { Form, Input, Button, message } from 'antd'\nconst { TextArea } = Input\n\nclass WrappedRegistrationForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tconfirmDirty: false,\n\t\t\ttitle: ''\n\t\t}\n\t}\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tthis.props.form.validateFieldsAndScroll((err, values) => {\n\t\t\tif (!err) {\n\t\t\t\tif (getUrlParam('id')) {\n\t\t\t\t\tlet arr = { id: getUrlParam('id') }\n\t\t\t\t\teditrole(Object.assign(values, arr))\n\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\tmessage.success(res.message)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tmessage.error(err.message)\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\taddrole(values)\n\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\tif (res.status === 1) {\n\t\t\t\t\t\t\t\tmessage.success(res.message)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmessage.error(res.message)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\tmessage.error(err.message)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tcomponentDidMount() {\n\t\tif (getUrlParam('id')) {\n\t\t\tthis.setState({\n\t\t\t\ttitle: '修改'\n\t\t\t})\n\t\t\trolelist({\n\t\t\t\tid: getUrlParam('id')\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tlet { title, description } = res.data[0]\n\t\t\t\t\tthis.props.form.setFieldsValue({\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tdescription\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log('err: ', err)\n\t\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttitle: '增加'\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form\n\t\tconst formItemLayout = {\n\t\t\tlabelCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 8 }\n\t\t\t},\n\t\t\twrapperCol: {\n\t\t\t\txs: { span: 24 },\n\t\t\t\tsm: { span: 16 }\n\t\t\t}\n\t\t}\n\t\tconst tailFormItemLayout = {\n\t\t\twrapperCol: {\n\t\t\t\txs: {\n\t\t\t\t\tspan: 24,\n\t\t\t\t\toffset: 0\n\t\t\t\t},\n\t\t\t\tsm: {\n\t\t\t\t\tspan: 16,\n\t\t\t\t\toffset: 8\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Form {...formItemLayout} onSubmit={this.handleSubmit}>\n\t\t\t\t<h1>{this.state.title}角色</h1>\n\t\t\t\t<Form.Item label=\"角色名称\">\n\t\t\t\t\t{getFieldDecorator('title', {\n\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tmessage: 'Please input your title!'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t})(<Input placeholder=\"请输入\" />)}\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"角色描述\">\n\t\t\t\t\t{getFieldDecorator('description', {\n\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tmessage: 'Please input your description!'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t})(<TextArea placeholder=\"请输入\" />)}\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item {...tailFormItemLayout}>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\n\t\t\t\t\t\t提交\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t)\n\t}\n}\nconst role = Form.create({ name: 'register' })(WrappedRegistrationForm)\nexport default role\n"],"sourceRoot":""}